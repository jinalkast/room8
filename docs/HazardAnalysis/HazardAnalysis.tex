\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{adjustbox}
\usepackage{longtable}
\usepackage{float}
\usepackage{enumerate}
\usepackage{multirow}
\usepackage{array}
\usepackage[margin=35mm,paper=a4paper]{geometry}


\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\Room8}

\author{Mohammed Abed \\ 
        Maged Armanios\\
        Jinal Kasturiarachchi\\
        Jane Klavir\\
        Harshil Patel\\}

\date{2024-10-25}

\input{../Comments}
\input{../Common}

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist 

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
2024-10-25 & Mohammed Abed, & Document Created\\
 & Maged Armanios, & \\
 & Jinal Kasturiarachchi, & \\
 & Jinal Klavir, & \\
 & Harshil Patel & \\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}

\wss{You can include your definition of what a hazard is here.}\\
Room8 is a suite of tools aimed at reducing the occurrence of frustrating situations between roommates. Room8 is expected to be implemented as a mobile application and interact with the physical world using a camera and as a result, is expected to handle sensitive user data such as addresses, names, birthdays, images, and financial details. As a result, the application can pose potential hazards to users with a hazard defined as any property or state of the system that could cause our users harm. This document aims to outline the scope, critical assumptions, potential failures, and mitigation strategies for Room8 in order to allow the development to design mitigations for these hazards.


\section{Scope and Purpose of Hazard Analysis}

\wss{You should say what \textbf{loss} could be incurred because of the
hazards.}\\
The purpose of this document is to identify and mitigate losses that can be incurred from system hazards. There are multiple ways to mitigate the losses, such as following appropriate regulations, implementing thorough testing, and informing users how to properly use the system. By examining as many scenarios as possible where the system can cause harm and recording it in this document, the development team aims to minimize the harm exposed to users, stakeholders, and the development team. Possible losses that can occur from hazards include financial loss, loss of reputation, and service disruptions.      

\section{System Boundaries and Components}
This section goes over the components that the system can be divided into.

\subsection{User Device}
Smart phone the user is using with the supported version of Android or iOS.

\subsection{Camera}
Responsible for taking picture for cleanliness detection analysis when sensor sends information of user.

\subsection{Motion Sensor}
Detects movement in the shared space to determine if user has entered or exited shared space signaling the camera for a picture.

\subsection{User-Facing Application}
A mobile application installed on smart phones which have versions of Android and iOS that is currently being supported mobile providers. This includes front-end of the system where users can see details and change settings of various back-end components listed below.

\subsection{Authentication}
Authentication using OAuth of user credentials and house details are processed in this component including the update of information mentioned previously.

\subsection{SMS ChatBot}
ChatBot responsible for sending messages to group chat of home members for notifying them of cleanliness assessment, expenses from bill splitter, or reminders to complete tasks.

\subsection{Calendar Tool}
Allows users to add events to calendar and display to other housemates, if involved in event, in their respective calendars. Also houses logic for generating chore/cleaning schedule and adding in calendars of users.

\subsection{Cleanliness Manager}
Runs algorithm for detecting change in environment through input received from hardware and stores user's information for the user to view on application along with history of cleanliness.

\subsection{Bill Splitter}
Calculate charges due from a shared expense and keeps track of which expenses are due from each user and who they owe using the SMS ChatBot to notify users. Also stores history of expenses and charges paid for user to view.

\subsection{Database}
Used to securely store user and house information, calendar events, expense history, and pictures for cleanliness calculator.


\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}
\begin{itemize}
\item \textbf{CA1}: Homes will have a consistent and uninterrupted supply of electricity available.
\item \textbf{CA2}: Homes will have internet speeds capable of streaming video.
\item \textbf{CA3}: Every resident of a shared home will have their own personal electronic device.
\item \textbf{CA4}: Users have used other applications before and are familiar with common signifiers, mappings, and UI metaphores (ex. Heart implies like).
\item \textbf{CA5}: External services, such as location services, map integrations, and calendar APIs will be available and reliable.
\item \textbf{CA6}: Users' devices will have additional free storage beyond the what's required for the applications install.
\item \textbf{CA7}: Camera setup in shared environment will not be moved or blocked to ensure clear pictures of space.
\end{itemize}

\newpage

\newgeometry{left=5mm,right=5mm}

\section{Failure Mode and Effect Analysis}

\wss{Include your FMEA table here. This is the most important part of this document.}
\wss{The safety requirements in the table do not have to have the prefix SR.
The most important thing is to show traceability to your SRS. You might trace to
requirements you have already written, or you might need to add new
requirements.}
\wss{If no safety requirement can be devised, other mitigation strategies can be
entered in the table, including strategies involving providing additional
documentation, and/or test cases.}\\

\begin{longtable}{|>{\raggedright\arraybackslash}p{0.13\linewidth} | >{\raggedright\arraybackslash}p{0.13\linewidth} | >{\raggedright\arraybackslash}p{0.13\linewidth}| >{\raggedright\arraybackslash}p{0.13\linewidth}| >{\raggedright\arraybackslash}p{0.13\linewidth}| >{\raggedright\arraybackslash}p{0.05\linewidth}| >{\raggedright\arraybackslash}p{0.05\linewidth}| >{\raggedright\arraybackslash}p{0.07\linewidth}|}
    \caption{\bf FMEA Table} \label{tab:my_label} \\
    
    \hline
    \textbf{Design Functions} & \textbf{Failure Modes} & \textbf{Effects of Failure} & \textbf{Causes of Failure} & \textbf{Recommended Action} & \textbf{SR} & \textbf{Ref} & \textbf{Severity}\\
    \hline
    \endfirsthead
    
    \hline
    \textbf{Design Functions} & \textbf{Failure Modes} & \textbf{Effects of Failure} & \textbf{Causes of Failure} & \textbf{Recommended Action} & \textbf{SR} & \textbf{Ref} & \textbf{Severity}\\
    \hline
    \endhead
    
    \hline
    \endfoot
    
    \hline
    \endlastfoot
    
    Camera Uploads Image to Cleanliness Detection System & Image gets compressed. & Same as HR2.1. & Network speeds are slow and compresses image to save space and and send image faster. & Take another picture and upload to cleanliness detection system again. & IR1 & H1.1 & BLANK\\


    \hline
    Camera Takes Picture & Something irregular occuring in-frame \newline & Cleanliness detection algorithm does not produce good results due to bad input\newline & a. Camera field of view being blocked \newline b. Problem with lighting  \newline & a. Take hourly pictures (i.e. as long as motion not detected), use last picture taken \newline b. Same as H2.1a  \newline & IR2  \newline & H2.1  \newline & BLANK\\
    & Delay in camera shot timing & User in-frame, user privacy is breached & a. Motion sensor not properly connected to camera  \newline b. Motion sensor not working &  a. Remove picture from database, follow H2.1a, do troubleshooting for motion sensor \newline b. Same as H2.2a \newline & SR1 & H2.2 & BLANK\\
    
    \hline
    Camera Uploads Image Pair To Cleanliness Management System & Camera fails to upload the images \newline & Cleanliness management system does not detect or notify users of the changes to the space\newline & a. Internet connectivity issues \newline & a. Retry to upload images multiple times \newline b. Notify users if there has been no activity detected from the camera for an extended period of time  \newline & SR?  \newline & H3.1  \newline & BLANK\\  
    \hline
    Motion Sensor Detects Motion  & Motion should not be detected (false positive) \newline  & Unnecessary computation and notifications \newline & a. Motion sensor is overly sensitive \newline b. Some brief/light movement that should not be classified as motion occurred (e.g., insect flew by) \newline c. Continuous movement that should not be classified as motion is occurring (e.g., air conditioner causing curtain to move) \newline  & a. Include regular motion-calibration testing in system design \newline b. Have a clause in the cleanliness detection algorithm to check for false positives (i.e., if the before/after pictures do not meet a threshold to be considered dissimilar) \newline c. ???? & SR?, SR? & H4.1 & Medium\\
    & Motion is not detected although it is occurring (false negative) \newline & Cleanliness detection does not occur \newline & a. Motion sensor is underly sensitive \newline b. Motion sensor is broken \newline &  a. Same as H3.1a \newline b. Same as H4.1a \newline & ??? & H4.2 & BLANK\\
    

    \hline
    System Authenticates User  & Bad actor is able to log into user's account \newline & Sensitive user information is revealed, such as full name and address. User privacy is violated. \newline & a. Data breach \newline b. Weak account password \newline c. Lack of multi-factor authentication \newline d. Brute force attacks \newline e. Man-int-the-middle attacks \newline f. Outdated/insecure methods of storing user credentials \newline & a. Check for unusual login patterns, such as different geolocations, IP addresses, and repeated failed attempts on same login \newline b. Require all account passwords to satisfy a minimum password strength criterion \newline c. Reccommend multi-factor authentication for logging in \newline d. Impose rate limits on failed authentication attempts \newline e. Salt and hash passwords \newline & ??? \newline & H5.1 & Medium\\
    & Bad actor alters account credentials \newline & User cannot access their account \newline & a. Lack of multi-factor authentication for changing account credentials \newline  &  a. Require multi-factor authentication for changing account credentials \newline & ??? & H5.2 & BLANK\\
    & Bad actor impersonates user \newline & Violation of user privacy and distruption of services for other house members \newline & a. Log-in procedures not secure \newline  &  a. Same as 4.1a - 4.1f \newline & ??? & H5.3 & BLANK\\
    & User forgot their password \newline & User cannot log-in \newline & a. No way to recover account \newline  &  a. System has a "forgot password" clause where multi-factor authentication is used to create new password \newline & ??? & H5.4 & BLANK\\


    
    \hline
    ChatBot Sends Notifaction & User is notified of deleted event & False information sent to user and user gets annoyed& a. ChatBot SMS did not get update from calendar that event was deleted and user does not need to be informed \newline & a. Have test cases covering testing if ChatBot SMS is updated when calendar events update & NFR222 & H6.1 & Medium\\
    
    & User is not notified of an event & Same as HR7.1 & a. ChatBot SMS failed to get event from calendar & a. Make sure ChatBot SMS synchronizes with calendar. & NFR222 & H6.2 & BLANK\\
    
     \hline
    Scheduling an Event in the Calendar & Event cannot be scheduled & User is frustrated, and important information is not being sent to roommates &  a. Conflict occurred due to multiple users scheduling events simultaneously &  a. Put a lock on the calendar resource & SR?, SR? & H7.1 & Medium\\
    
    \hline
    Cleanliness Management System Detects Changes in the Cleanliness of a Room & System falsely concludes that a room has become more dirty.\newline\newline System falsely concludes that a room has become more clean.\newline\newline System concludes that there are no changes despite there being changes.\newline\newline The system concludes that there are changes when there are no changes. & Conflict amongst roommates.\newline\newline Trust in the system declines. & Obstructions in the images captured by the camera.\newline\newline Improper calibration and timing of the motion sensor.\newline\newline Object detection algorithm has errors and classifies items incorrectly in an image.& Create base case tests for the cleanliness management system, including no change, increase, decrease, and no room state change cases.\newline\newline Alert and instruct users to clear camera obstructions before setting up the system. & SR?, SR? & H8.1 & Low\\

    \hline
    Inputting into Bill Splitter & Amount owing not accurate & Users receiving false information & a. User made an error inputting bill \newline b. The bill changed (i.e. amount or people owing) \newline c. Bad actor creating false bills & a. Provide users with a mechanism to edit outstanding bills \newline b. Same as 8.1a \newline c. System has a way for roommates to delete bills and report misuse & SR?, SR? & H9.1 & Medium\\
    
    \hline
    Database something & NEW & NEW & NEW & NEW & SR?, SR? & H?? & Medium\\
    
\end{longtable}
\restoregeometry 

\newpage

\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}\\

The following lists new requirements which will be added to the Software Requirements Specification Document.

\subsection{Safety and Security Requirements}
\begin{enumerate}[{SR}1. ]
    \item The system will not show images of other users in the frame without proper sensoring.\\
    \textbf{Rationale}: To maintain user privacy and comfort. 
\end{enumerate} 

\subsection{Access Requirements}
\begin{enumerate}[{AR}1. ]
    \item This is a sample.\\
    \textbf{Rationale}: This is a sample. 
\end{enumerate} 

\subsection{Integrity Requirements}
\begin{enumerate}[{IR}1. ]
    \item The system will be able to send high quality images over the network without compression.\\
    \textbf{Rationale}: It is important that the image does not lose quality so the cleanliness detection system does not have inaccurate results. 
    \item The system will send clear images of the shared space.\\
    \textbf{Rationale}: It is important the images are not hindered by objects covering majority of the share space. 
\end{enumerate} 

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\newpage{}

\section*{Appendix --- Reflection}

\begin{enumerate}
    \item While writing this deliverable, the team had a relatively difficult time constructing the FEMA table. Referring back to previous documents, such as the SRS and the Development Plan, made it easy to extract the core design functions of our application and start evaluating the associated hazards. Another thing that had gone well when writing this deliverable was the discovery of new requirements/tests for the sake of minimizing requirements. An example of this is the cleanliness management system, we determine that the recommended action for ensuring no false positives and negatives is to create a set of test cases. Finally, we think a good thing that came out of this deliverable was that we realized we had missed a lot of requirements from our SRS, and we're expecting to use what we learned from this document to revise it.
    
    \item The most prominent pain point when writing this deliverable was that we had difficulty dividing the work and working in parallel. This document is a lot shorter than the SRS, and in this deliverable, each section was a lot more dependent on its previous sections. When it was time to work on the deliverable, the team got caught up with other obligations, leading to less time to work on this than we would have liked. Combining this fact with the fact that some people had to wait for others in order to finalize their sections led to a time crunch.\newline Another pain point was the flexibility in formatting our document compared to the SRS. The SRS was more structured than this document, and we knew exactly how to format our deliverable, as there wasn't freedom to alter it. This deliverable gave the group a lot more freedom in formatting some sections, which led to inconsistencies when working on the deliverable. These inconsistencies required group discussions as we needed to agree on a style, and then we had to revise our document to ensure it was cohesive and consistent. 
    
    \item The listed risk related to the design function "Camera Takes Picture" with the effect "User in-frame, user privacy is breached", had been discussed before. This risk was discovered by our supervisor Dr. Ratnasingham (Thamas) Tharmarasa, who pointed out that many users would feel uncomfortable being photographed. The discussion resulted in us revising our idea to capture the state of the room before and after a user interacts with a shared living space and declaring that photographing a user was a failure and a breach of their privacy. Some other risks, particularly involving bad actors accessing user accounts, had been discussed before this deliverable, but only in passing when some implementation ideas were discussed as a group in an informal setting. The other risks had all come about naturally by simply trying to ask ourselves, "What could happen?" and "If this did happen, what could go wrong?".
    
    \item Other risks in software products include data privacy risks and security risks. Data privacy risks refer to risks that arise when a software product handles users' personal data poorly, leading to potential data leaks. Data privacy is arguably the most important requirement when designing a software system that accesses sensitive user data. If you mishandle a user's private information, the developer of the software is liable for the damage caused, which could be very severe depending on the type of data stolen. Not only will mishandling user data lead to a severe loss in user trust, but failing to comply with regulations can lead to legal consequences.\newline Security risks involve vulnerabilities that could allow malicious actors to gain unauthorized access, manipulate data, or disrupt services. Security breaches are important as well because they can cause severe harm to users and lead to financial loss due to operational losses. Without the proper security measures, malicious actors could disrupt your service, gain access to large amounts of user data, and use that to produce harm outside the scope of your software service.
\end{enumerate}

\end{document}